
#import <Foundation/Foundation.h>

NSString *StringFromCharacterizeData(Byte *data);


//: msg
Byte kStr_accountingWorryName[] = {28, 3, 66, 8, 200, 164, 102, 85, 175, 181, 169, 180};


//: RegistFinshNotification
Byte kStr_classicText[] = {48, 23, 48, 9, 19, 195, 73, 142, 4, 130, 149, 151, 153, 163, 164, 118, 153, 158, 163, 152, 126, 159, 164, 153, 150, 153, 147, 145, 164, 153, 159, 158, 22};


//: answer
Byte kStr_gageBarData[] = {14, 6, 1, 9, 166, 106, 90, 169, 195, 98, 111, 116, 120, 102, 115, 188};


//: /user/smsregister
Byte kStr_againstWillingData[] = {31, 17, 91, 6, 145, 253, 138, 208, 206, 192, 205, 138, 206, 200, 206, 205, 192, 194, 196, 206, 207, 192, 205, 100};


//: code
Byte kStr_damnColorValue[] = {25, 4, 14, 10, 108, 167, 86, 177, 215, 249, 113, 125, 114, 115, 139};


//: passwd
Byte kStr_addEngineName[] = {33, 6, 80, 11, 211, 223, 137, 143, 95, 32, 145, 192, 177, 195, 195, 199, 180, 31};


//: friend_verify_avtivity_net_error
Byte kStr_sportContent[] = {97, 32, 61, 6, 23, 85, 163, 175, 166, 162, 171, 161, 156, 179, 162, 175, 166, 163, 182, 156, 158, 179, 177, 166, 179, 166, 177, 182, 156, 171, 162, 177, 156, 162, 175, 175, 172, 175, 219};


//: invitecode
Byte kStr_outputTitle[] = {20, 10, 30, 5, 231, 135, 140, 148, 135, 146, 131, 129, 141, 130, 131, 222};


//: /user/register
Byte kStr_shouldSpeciesValue[] = {47, 14, 3, 9, 218, 209, 61, 177, 4, 50, 120, 118, 104, 117, 50, 117, 104, 106, 108, 118, 119, 104, 117, 75};


//: UserAccount
Byte kStr_creaseDirectValue[] = {8, 11, 32, 12, 175, 112, 177, 12, 215, 36, 213, 185, 117, 147, 133, 146, 97, 131, 131, 143, 149, 142, 148, 252};


//: /user/ismustmobile
Byte kStr_definitionText[] = {52, 18, 84, 11, 232, 175, 223, 44, 63, 243, 46, 131, 201, 199, 185, 198, 131, 189, 199, 193, 201, 199, 200, 193, 195, 182, 189, 192, 185, 209};


//: iOS
Byte kStr_totalTitle[] = {56, 3, 90, 5, 76, 195, 169, 173, 245};


//: /validate/check_username_available
Byte kStr_tingFieldName[] = {22, 34, 75, 9, 152, 33, 48, 87, 43, 122, 193, 172, 183, 180, 175, 172, 191, 176, 122, 174, 179, 176, 174, 182, 170, 192, 190, 176, 189, 185, 172, 184, 176, 170, 172, 193, 172, 180, 183, 172, 173, 183, 176, 226};


//: register_avtivity3_register_fail
Byte kStr_mathTingTitle[] = {58, 32, 79, 7, 56, 132, 244, 193, 180, 182, 184, 194, 195, 180, 193, 174, 176, 197, 195, 184, 197, 184, 195, 200, 130, 174, 193, 180, 182, 184, 194, 195, 180, 193, 174, 181, 176, 184, 187, 213};


//: mobile
Byte kStr_worryTunContent[] = {42, 6, 39, 11, 174, 132, 86, 62, 64, 112, 131, 148, 150, 137, 144, 147, 140, 244};


//: password
Byte kStr_directTitle[] = {7, 8, 21, 5, 239, 133, 118, 136, 136, 140, 132, 135, 121, 249};


//: client
Byte kStr_rapeTitle[] = {86, 6, 13, 7, 215, 171, 69, 112, 121, 118, 114, 123, 129, 103};


//: question
Byte kStr_folkHeyValue[] = {73, 8, 24, 13, 86, 167, 43, 129, 141, 4, 51, 154, 247, 137, 141, 125, 139, 140, 129, 135, 134, 22};


//: UserPassWord
Byte kStr_stockEyebrowTitle[] = {61, 12, 51, 4, 136, 166, 152, 165, 131, 148, 166, 166, 138, 162, 165, 151, 176};


//: head_default
Byte kStr_inventAnybodyContent[] = {74, 12, 7, 9, 51, 101, 192, 218, 201, 111, 108, 104, 107, 102, 107, 108, 109, 104, 124, 115, 123, 146};


//: username
Byte kStr_rooVeryName[] = {67, 8, 81, 5, 12, 198, 196, 182, 195, 191, 178, 190, 182, 23};


//: gender
Byte kStr_definitionContent[] = {25, 6, 26, 4, 129, 127, 136, 126, 127, 140, 83};


//: mobilecode
Byte kStr_lawmakerData[] = {64, 10, 94, 4, 203, 205, 192, 199, 202, 195, 193, 205, 194, 195, 1};


//: account
Byte kStr_messageGalaxyText[] = {64, 7, 37, 10, 120, 55, 151, 176, 255, 252, 134, 136, 136, 148, 154, 147, 153, 43};

// __DEBUG__
// __CLOSE_PRINT__
//
//  DisableManager.m
//  NIM
//
//  Created by 彭爽 on 2021/9/6.
//  Copyright © 2021 Netease. All rights reserved.
//

// __M_A_C_R_O__
//: #import "NTESRegistConfigManager.h"
#import "DisableManager.h"

//: @interface NTESRegistConfigManager ()
@interface DisableManager ()
//: @property (nonatomic ,strong) UINavigationController *nav;
@property (nonatomic ,strong) UINavigationController *nav;
//: @end
@end

//: @implementation NTESRegistConfigManager
@implementation DisableManager

//: static NTESRegistConfigManager *shareConfigManager = nil;
static DisableManager *kConst_quickData = nil;

//: + (NTESRegistConfigManager *)shareConfigManager {
+ (DisableManager *)direct {
    //: @synchronized(self) {
    @synchronized(self) {
        //: if (shareConfigManager == nil) {
        if (kConst_quickData == nil) {
            //: shareConfigManager = [[NTESRegistConfigManager alloc] init];
            kConst_quickData = [[DisableManager alloc] init];

            //: [shareConfigManager registDictDefault];
            [kConst_quickData getStarted];
        }
        //: return shareConfigManager;
        return kConst_quickData;
    }
}

//: - (NSMutableDictionary *)registDictDefault{
- (NSMutableDictionary *)getStarted{
    //: [NTESRegistConfigManager shareConfigManager].registDict = [NSMutableDictionary dictionaryWithCapacity:0];
    [DisableManager direct].registDict = [NSMutableDictionary dictionaryWithCapacity:0];
    //: NSMutableDictionary *dict = [NTESRegistConfigManager shareConfigManager].registDict;
    NSMutableDictionary *dict = [DisableManager direct].registDict;
    //: [dict setObject:@"iOS" forKey:@"client"];
    [dict setObject:StringFromCharacterizeData(kStr_totalTitle) forKey:StringFromCharacterizeData(kStr_rapeTitle)];
    //: [dict setObject:@"" forKey:@"invitecode"];
    [dict setObject:@"" forKey:StringFromCharacterizeData(kStr_outputTitle)];
    //: [dict setObject:@"" forKey:@"mobilecode"];
    [dict setObject:@"" forKey:StringFromCharacterizeData(kStr_lawmakerData)];
    //: [dict setObject:@"" forKey:@"question"];
    [dict setObject:@"" forKey:StringFromCharacterizeData(kStr_folkHeyValue)];
    //: [dict setObject:@"" forKey:@"answer"];
    [dict setObject:@"" forKey:StringFromCharacterizeData(kStr_gageBarData)];
    //: [dict setObject:@"1" forKey:@"gender"];
    [dict setObject:@"1" forKey:StringFromCharacterizeData(kStr_definitionContent)];

    //: return [NTESRegistConfigManager shareConfigManager].registDict;
    return [DisableManager direct].registDict;
}

//: + (void)refreshRegistConfig{
+ (void)language{

    //: [ZCHttpManager postWithUrl:[NSString stringWithFormat:@"/user/ismustmobile"] params:nil isShow:NO success:^(id responseObject) {
    [ViewManager bubbleFind:[NSString stringWithFormat:StringFromCharacterizeData(kStr_definitionText)] failed:nil text:NO occurrence:^(id responseObject) {

    //: } failed:^(id responseObject, NSError *error) {
    } lightRemove:^(id responseObject, NSError *error) {

    //: }];
    }];
}

//: + (void)firstSendRegistName:(NSString *)name pd:(NSString *)pd RequestWithComplete:(void(^)(BOOL sucess, NSString * msg))complete {
+ (void)inputStandard:(NSString *)name margin:(NSString *)pd sheer:(void(^)(BOOL sucess, NSString * msg))complete {

    //#define Server_first_regist_config    [NSString stringWithFormat:@"%@/api/validate/check_username_available",[LabelSure sharedConfig].domainURL]
    //: [ZCHttpManager postWithUrl:[NSString stringWithFormat:@"/validate/check_username_available"] params:@{@"username":name , @"passwd":pd } isShow:NO success:^(id responseObject) {
    [ViewManager bubbleFind:[NSString stringWithFormat:StringFromCharacterizeData(kStr_tingFieldName)] failed:@{StringFromCharacterizeData(kStr_rooVeryName):name , StringFromCharacterizeData(kStr_addEngineName):pd } text:NO occurrence:^(id responseObject) {

        //: NSDictionary *resultDict = (NSDictionary *)responseObject;
        NSDictionary *resultDict = (NSDictionary *)responseObject;
        //: NSString *code = [resultDict newStringValueForKey:@"code"];
        NSString *code = [resultDict length:StringFromCharacterizeData(kStr_damnColorValue)];
        //: NSString *msg = [resultDict newStringValueForKey:@"msg"];
        NSString *msg = [resultDict length:StringFromCharacterizeData(kStr_accountingWorryName)];
        //: if (code.integerValue == 0) {
        if (code.integerValue == 0) {
            //: !complete ? : complete(YES,msg);
            !complete ? : complete(YES,msg);
        //: } else {
        } else {
            //: [SVProgressHUD showMessage:msg];
            [SVProgressHUD text:msg];
            //: !complete ? : complete(NO,msg);
            !complete ? : complete(NO,msg);
        }

    //: } failed:^(id responseObject, NSError *error) {
    } lightRemove:^(id responseObject, NSError *error) {
        //: !complete ? : complete(NO,[NTESLanguageManager getTextWithKey:@"friend_verify_avtivity_net_error"]);
        !complete ? : complete(NO,[LabelCell tinkleKey:StringFromCharacterizeData(kStr_sportContent)]);
    //: }];
    }];
}


//: + (void)sendRegistRequest:(UINavigationController *)nav{
+ (void)itemUse:(UINavigationController *)nav{

    //: [NTESRegistConfigManager shareConfigManager].nav = nav;
    [DisableManager direct].nav = nav;
    //: NSString *ismustmobile = [NIMUserDefaults standardUserDefaults].ismustmobile;
    NSString *ismustmobile = [AlongDefaults off].ismustmobile;//是否手机

    //: if ([NTESRegistConfigManager shareConfigManager].headerImage == nil) {
    if ([DisableManager direct].headerImage == nil) {//默认头像
        //: [NTESRegistConfigManager shareConfigManager].headerImage = [UIImage imageNamed:@"head_default"];
        [DisableManager direct].headerImage = [UIImage imageNamed:StringFromCharacterizeData(kStr_inventAnybodyContent)];
    }

    //: if (ismustmobile.integerValue > 0) {
    if (ismustmobile.integerValue > 0) {
        //: [[NTESRegistConfigManager shareConfigManager] mobileRegist];
        [[DisableManager direct] month];
    //: }else{
    }else{
        //: [[NTESRegistConfigManager shareConfigManager] accountRegist];
        [[DisableManager direct] ancientHistory];

    }

}

//: -(void)mobileRegist{
-(void)month{

    //: NSString *account = [[NTESRegistConfigManager shareConfigManager].registDict newStringValueForKey:@"account"];
    NSString *account = [[DisableManager direct].registDict length:StringFromCharacterizeData(kStr_messageGalaxyText)];
    //: [[NTESRegistConfigManager shareConfigManager].registDict setObject:account forKey:@"mobile"];
    [[DisableManager direct].registDict setObject:account forKey:StringFromCharacterizeData(kStr_worryTunContent)];

    //: NSDictionary *dict = [NTESRegistConfigManager shareConfigManager].registDict;
    NSDictionary *dict = [DisableManager direct].registDict;
    //: UIImage *image = [NTESRegistConfigManager shareConfigManager].headerImage;
    UIImage *image = [DisableManager direct].headerImage;

    //: if (!image) {
    if (!image) {

        //: [ZCHttpManager uploadImagesWithURL:[NSString stringWithFormat:@"/user/smsregister"] parameters:dict images:@[UIImageJPEGRepresentation(image, 0.3)] progress:^(NSProgress *progress) {
        [ViewManager full:[NSString stringWithFormat:StringFromCharacterizeData(kStr_againstWillingData)] r:dict title:@[UIImageJPEGRepresentation(image, 0.3)] shared:^(NSProgress *progress) {

        //: } success:^(id responseObject) {
        } container:^(id responseObject) {
            //: NSLog(@"%@",responseObject);
            //: [self.nav popToRootViewControllerAnimated:YES];
            [self.nav popToRootViewControllerAnimated:YES];


        //: } failed:^(id responseObject, NSError *error) {
        } user:^(id responseObject, NSError *error) {
            //: NSLog(@"%@",error);

        //: }];
        }];
    //: }else{
    }else{
        //: [ZCHttpManager getWithUrl:[NSString stringWithFormat:@"/user/smsregister"] params:dict isShow:YES success:^(id responseObject) {
        [ViewManager viewFailed:[NSString stringWithFormat:StringFromCharacterizeData(kStr_againstWillingData)] disable:dict params:YES status:^(id responseObject) {
            //: NSDictionary *resultDict = (NSDictionary *)responseObject;
            NSDictionary *resultDict = (NSDictionary *)responseObject;
            //: NSString *code = [resultDict newStringValueForKey:@"code"];
            NSString *code = [resultDict length:StringFromCharacterizeData(kStr_damnColorValue)];
            //: NSString *msg = [resultDict newStringValueForKey:@"msg"];
            NSString *msg = [resultDict length:StringFromCharacterizeData(kStr_accountingWorryName)];
            //: [SVProgressHUD showMessage:msg];
            [SVProgressHUD text:msg];
            //: if (code.integerValue <= 0) {
            if (code.integerValue <= 0) {
                //: [self.nav popToRootViewControllerAnimated:YES];
                [self.nav popToRootViewControllerAnimated:YES];

                //: NSMutableDictionary *notiDict = [NSMutableDictionary dictionaryWithCapacity:0];
                NSMutableDictionary *notiDict = [NSMutableDictionary dictionaryWithCapacity:0];
                //: [notiDict setObject:[dict newStringValueForKey:@"account"] ? :@"" forKey:@"UserAccount"];
                [notiDict setObject:[dict length:StringFromCharacterizeData(kStr_messageGalaxyText)] ? :@"" forKey:StringFromCharacterizeData(kStr_creaseDirectValue)];
                //: [notiDict setObject:[dict newStringValueForKey:@"password"] ? :@"" forKey:@"UserPassWord"];
                [notiDict setObject:[dict length:StringFromCharacterizeData(kStr_directTitle)] ? :@"" forKey:StringFromCharacterizeData(kStr_stockEyebrowTitle)];
                //: [[NSNotificationCenter defaultCenter] postNotificationName:@"RegistFinshNotification" object:notiDict];
                [[NSNotificationCenter defaultCenter] postNotificationName:StringFromCharacterizeData(kStr_classicText) object:notiDict];


            }
        //: } failed:^(id responseObject, NSError *error) {
        } allow:^(id responseObject, NSError *error) {

        //: }];
        }];
    }


}

//: -(void)accountRegist{
-(void)ancientHistory{

    //: NSDictionary *dict = [NTESRegistConfigManager shareConfigManager].registDict;
    NSDictionary *dict = [DisableManager direct].registDict;
    //: UIImage *image = [NTESRegistConfigManager shareConfigManager].headerImage;
    UIImage *image = [DisableManager direct].headerImage;
    //: UIImage *imageForAvatarUpload = [image imageByScalingAndCroppingForSize:CGSizeMake(150, 150)];
    UIImage *imageForAvatarUpload = [image totalernalRepresentationWithinSize:CGSizeMake(150, 150)];


    //: if (image) {
    if (image) {
        //: [ZCHttpManager uploadImagesWithURL:[NSString stringWithFormat:@"/user/register"] parameters:dict images:@[UIImageJPEGRepresentation(imageForAvatarUpload, 0.7)] progress:^(NSProgress *progress) {
        [ViewManager full:[NSString stringWithFormat:StringFromCharacterizeData(kStr_shouldSpeciesValue)] r:dict title:@[UIImageJPEGRepresentation(imageForAvatarUpload, 0.7)] shared:^(NSProgress *progress) {

        //: } success:^(id responseObject) {
        } container:^(id responseObject) {
            //: NSDictionary *resultDict = (NSDictionary *)responseObject;
            NSDictionary *resultDict = (NSDictionary *)responseObject;
            //: NSString *code = [resultDict newStringValueForKey:@"code"];
            NSString *code = [resultDict length:StringFromCharacterizeData(kStr_damnColorValue)];
            //: NSString *msg = [resultDict newStringValueForKey:@"msg"];
            NSString *msg = [resultDict length:StringFromCharacterizeData(kStr_accountingWorryName)];
            //: [SVProgressHUD showMessage:msg];
            [SVProgressHUD text:msg];

            //: if (code.integerValue <= 0) {
            if (code.integerValue <= 0) {
                //: [self.nav popToRootViewControllerAnimated:YES];
                [self.nav popToRootViewControllerAnimated:YES];
                //: NSMutableDictionary *notiDict = [NSMutableDictionary dictionaryWithCapacity:0];
                NSMutableDictionary *notiDict = [NSMutableDictionary dictionaryWithCapacity:0];
                //: NSString *mobile = [dict newStringValueForKey:@"mobile"] ? :@"";
                NSString *mobile = [dict length:StringFromCharacterizeData(kStr_worryTunContent)] ? :@"";
                //: NSString *account = [dict newStringValueForKey:@"account"] ? :@"";
                NSString *account = [dict length:StringFromCharacterizeData(kStr_messageGalaxyText)] ? :@"";
                //: NSString *UserAccount = mobile.length > 0 ? mobile:account ;
                NSString *UserAccount = mobile.length > 0 ? mobile:account ;
                //: NSString *UserPassWord = [dict newStringValueForKey:@"password"] ? :@"";
                NSString *UserPassWord = [dict length:StringFromCharacterizeData(kStr_directTitle)] ? :@"";
                //: [notiDict setObject:UserAccount forKey:@"UserAccount"];
                [notiDict setObject:UserAccount forKey:StringFromCharacterizeData(kStr_creaseDirectValue)];
                //: [notiDict setObject:UserPassWord forKey:@"UserPassWord"];
                [notiDict setObject:UserPassWord forKey:StringFromCharacterizeData(kStr_stockEyebrowTitle)];
                //: [[NSNotificationCenter defaultCenter] postNotificationName:@"RegistFinshNotification" object:notiDict];
                [[NSNotificationCenter defaultCenter] postNotificationName:StringFromCharacterizeData(kStr_classicText) object:notiDict];
            }

        //: } failed:^(id responseObject, NSError *error) {
        } user:^(id responseObject, NSError *error) {
            //: [SVProgressHUD showMessage:[NTESLanguageManager getTextWithKey:@"register_avtivity3_register_fail"]];
            [SVProgressHUD text:[LabelCell tinkleKey:StringFromCharacterizeData(kStr_mathTingTitle)]];

        //: }];
        }];
    }
}

//: @end
@end

Byte * CharacterizeDataToCache(Byte *data) {
    int unswerving = data[0];
    int fingerRepresentation = data[1];
    Byte improveMedia = data[2];
    int mathLayer = data[3];
    if (!unswerving) return data + mathLayer;
    for (int i = mathLayer; i < mathLayer + fingerRepresentation; i++) {
        int value = data[i] - improveMedia;
        if (value < 0) {
            value += 256;
        }
        data[i] = value;
    }
    data[0] = 0;
    data[mathLayer + fingerRepresentation] = 0;
    return data + mathLayer;
}

NSString *StringFromCharacterizeData(Byte *data) {
    return [NSString stringWithUTF8String:(char *)CharacterizeDataToCache(data)];
}
