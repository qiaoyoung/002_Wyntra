
#import <Foundation/Foundation.h>

NSString *StringFromCommentData(Byte *data);


//: account
Byte kStr_viewData[] = {94, 7, 22, 6, 159, 145, 119, 121, 121, 133, 139, 132, 138, 172};


//: code
Byte kStr_withSuccessText[] = {68, 4, 74, 11, 188, 123, 18, 85, 192, 90, 92, 173, 185, 174, 175, 206};


//: #333333
Byte kStr_contentTitle[] = {33, 7, 43, 7, 220, 167, 118, 78, 94, 94, 94, 94, 94, 94, 239};


//: common_bg
Byte kStr_completeMediaName[] = {47, 9, 96, 9, 195, 163, 221, 161, 177, 195, 207, 205, 205, 207, 206, 191, 194, 199, 127};


//: /user/checkAddFriendEx
Byte kStr_houseEventText[] = {36, 22, 15, 9, 158, 122, 211, 110, 253, 62, 132, 130, 116, 129, 62, 114, 119, 116, 114, 122, 80, 115, 115, 85, 129, 120, 116, 125, 115, 84, 135, 66};


//: uid
Byte kStr_markScaleAccountData[] = {20, 3, 10, 14, 31, 200, 173, 42, 135, 1, 37, 157, 211, 212, 127, 115, 110, 200};


//: fuid
Byte kStr_itemData[] = {72, 4, 24, 11, 15, 215, 59, 155, 82, 172, 229, 126, 141, 129, 124, 176};


//: add_friend_activity_add_friend
Byte kStr_accountData[] = {55, 30, 35, 4, 132, 135, 135, 130, 137, 149, 140, 136, 145, 135, 130, 132, 134, 151, 140, 153, 140, 151, 156, 130, 132, 135, 135, 130, 137, 149, 140, 136, 145, 135, 70};


//: add_friend_activity_search
Byte kStr_imageShouldValue[] = {37, 26, 40, 8, 41, 91, 75, 218, 137, 140, 140, 135, 142, 154, 145, 141, 150, 140, 135, 137, 139, 156, 145, 158, 145, 156, 161, 135, 155, 141, 137, 154, 139, 144, 92};


//: my_qr
Byte kStr_viewContent[] = {43, 5, 67, 10, 143, 231, 242, 48, 244, 158, 176, 188, 162, 180, 181, 79};


//: qr_scan
Byte kStr_atColorAccountData[] = {57, 7, 66, 5, 121, 179, 180, 161, 181, 165, 163, 176, 150};


//: #999999
Byte kStr_scaleText[] = {22, 7, 91, 5, 19, 126, 148, 148, 148, 148, 148, 148, 187};


//: add_friend_activity_input_account
Byte kStr_tingImageData[] = {42, 33, 69, 5, 149, 166, 169, 169, 164, 171, 183, 174, 170, 179, 169, 164, 166, 168, 185, 174, 187, 174, 185, 190, 164, 174, 179, 181, 186, 185, 164, 166, 168, 168, 180, 186, 179, 185, 206};


//: qrcode_activity_title
Byte kStr_sendTitleData[] = {41, 21, 3, 9, 179, 228, 189, 220, 166, 116, 117, 102, 114, 103, 104, 98, 100, 102, 119, 108, 121, 108, 119, 124, 98, 119, 108, 119, 111, 104, 38};


//: ScanQRcode
Byte kStr_imageTimeTitle[] = {52, 10, 58, 7, 247, 41, 86, 141, 157, 155, 168, 139, 140, 157, 169, 158, 159, 48};


//: #34AECA
Byte kStr_currentData[] = {73, 7, 46, 5, 245, 81, 97, 98, 111, 115, 113, 111, 82};


//: please_contact_your_administrator
Byte kStr_operationData[] = {61, 33, 11, 10, 23, 195, 121, 179, 252, 123, 123, 119, 112, 108, 126, 112, 106, 110, 122, 121, 127, 108, 110, 127, 106, 132, 122, 128, 125, 106, 108, 111, 120, 116, 121, 116, 126, 127, 125, 108, 127, 122, 125, 44};


//: search_bg
Byte kStr_sendCircleTitle[] = {59, 9, 43, 4, 158, 144, 140, 157, 142, 147, 138, 141, 146, 135};


//: /user/search
Byte kStr_nameTitle[] = {25, 12, 37, 8, 80, 157, 183, 90, 84, 154, 152, 138, 151, 84, 152, 138, 134, 151, 136, 141, 129};


//: data
Byte kStr_sizeValue[] = {1, 4, 56, 8, 103, 78, 54, 1, 156, 153, 172, 153, 180};


//: #3996D6
Byte kStr_keyName[] = {3, 7, 41, 9, 109, 44, 105, 24, 214, 76, 92, 98, 98, 95, 109, 95, 69};


//: friendrequestsin_contacts
Byte kStr_coverData[] = {53, 25, 12, 6, 99, 157, 114, 126, 117, 113, 122, 112, 126, 113, 125, 129, 113, 127, 128, 127, 117, 122, 107, 111, 123, 122, 128, 109, 111, 128, 127, 41};


//: tuid
Byte kStr_tingName[] = {46, 4, 17, 13, 104, 228, 253, 193, 31, 162, 62, 66, 182, 133, 134, 122, 117, 54};


//: group_info_activity_number_no
Byte kStr_useName[] = {63, 29, 20, 11, 131, 75, 59, 99, 214, 180, 253, 123, 134, 131, 137, 132, 115, 125, 130, 122, 131, 115, 117, 119, 136, 125, 138, 125, 136, 141, 115, 130, 137, 129, 118, 121, 134, 115, 130, 131, 243};


//: msg
Byte kStr_accountName[] = {2, 3, 15, 9, 109, 34, 138, 113, 51, 124, 130, 118, 97};


//: back_arrow_bl
Byte kStr_useData[] = {91, 13, 16, 5, 62, 114, 113, 115, 123, 111, 113, 130, 130, 127, 135, 111, 114, 124, 217};


//: icon_search_w
Byte kStr_timeData[] = {3, 13, 48, 7, 136, 222, 52, 153, 147, 159, 158, 143, 163, 149, 145, 162, 147, 152, 143, 167, 96};

// __DEBUG__
// __CLOSE_PRINT__
//
//  CollectionViewController.m
//  NIM
//
//  Created by chris on 15/8/18.
//  Copyright (c) 2015å¹´ Netease. All rights reserved.
//

// __M_A_C_R_O__
//: #import "NTESContactAddFriendViewController.h"
#import "CollectionViewController.h"
//: #import "NTESContactAddFriendCell.h"
#import "BackgroundViewCell.h"
//: #import "UIView+Toast.h"
#import "UIView+Toast.h"
//: #import "SVProgressHUD.h"
#import "SVProgressHUD.h"
//: #import "ZZZPersonalCardViewController.h"
#import "FileViewController.h"
//: #import "ZZZUserQRCodeViewController.h"
#import "MortalSuggestViewController.h"
//: #import "SNDevice.h"
#import "ColorationDevice.h"
//: #import "ZZZCCCLoginManager.h"
#import "BankManagerRemove.h"
//: #import "UIAlertView+NTESBlock.h"
#import "UIAlertView+Count.h"
//: #import "UIView+NTES.h"
#import "UIView+Item.h"
//: #import "LCQRCodeUtil.h"
#import "TotalTitleBe.h"
//: #import <Photos/Photos.h>
#import <Photos/Photos.h>
//: #import "ZZZContactScanViewController.h"
#import "VersionViewController.h"
//: #import "ZMONMyQRcodeView.h"
#import "ChangeView.h"
//: #import "ZMONFriendCardViewController.h"
#import "ChangeViewController.h"

//: @interface NTESContactAddFriendViewController ()<UITextFieldDelegate>
@interface CollectionViewController ()<UITextFieldDelegate>

//: @property (nonatomic ,strong) UITextField *textField;
@property (nonatomic ,strong) UITextField *textField;
//: @property (nonatomic ,strong) UILabel *accountLabel;
@property (nonatomic ,strong) UILabel *accountLabel;
//: @property (nonatomic ,strong) UIImageView *qrImgview;
@property (nonatomic ,strong) UIImageView *qrImgview;
//: @property (nonatomic ,strong) UILabel *tipsLabel;
@property (nonatomic ,strong) UILabel *tipsLabel;

//: @property (nonatomic ,strong) ZMONMyQRcodeView *MyQRcodeView;
@property (nonatomic ,strong) ChangeView *MyQRcodeView;

//: @end
@end

//: @implementation NTESContactAddFriendViewController
@implementation CollectionViewController

//: - (void)viewWillAppear:(BOOL)animated{
- (void)viewWillAppear:(BOOL)animated{
    //: [super viewWillAppear:animated];
    [super viewWillAppear:animated];
    //: self.navigationController.navigationBarHidden = YES;
    self.navigationController.navigationBarHidden = YES;
}

//: - (void)viewWillDisappear:(BOOL)animated{
- (void)viewWillDisappear:(BOOL)animated{
    //: [super viewWillDisappear:animated];
    [super viewWillDisappear:animated];
    //: self.navigationController.navigationBarHidden = NO;
    self.navigationController.navigationBarHidden = NO;
}

//: - (void)viewDidLoad {
- (void)viewDidLoad {
    //: [super viewDidLoad];
    [super viewDidLoad];
//    self.view.backgroundColor = [UIColor colorWithPatternImage:[UIImage imageNamed:@"common_bg"]];
    //: UIImageView *bg = [[UIImageView alloc]initWithFrame:self.view.bounds];
    UIImageView *bg = [[UIImageView alloc]initWithFrame:self.view.bounds];
    //: bg.image = [UIImage imageNamed:@"common_bg"];
    bg.image = [UIImage imageNamed:StringFromCommentData(kStr_completeMediaName)];
    //: [self.view addSubview:bg];
    [self.view addSubview:bg];

    //: UIView *navview = [[UIView alloc]initWithFrame:CGRectMake(0, 0, [[UIScreen mainScreen] bounds].size.width, (44.0f + [UIDevice vg_statusBarHeight]))];
    UIView *navview = [[UIView alloc]initWithFrame:CGRectMake(0, 0, [[UIScreen mainScreen] bounds].size.width, (44.0f + [UIDevice encounter]))];
    //: [self.view addSubview:navview];
    [self.view addSubview:navview];

    //: UIButton *backBtn = [UIButton buttonWithType:UIButtonTypeCustom];
    UIButton *backBtn = [UIButton buttonWithType:UIButtonTypeCustom];
    //: backBtn.frame = CGRectMake(15, [UIDevice vg_statusBarHeight], 40, 40);
    backBtn.frame = CGRectMake(15, [UIDevice encounter], 40, 40);
    //: [backBtn addTarget:self action:@selector(gotoBack:) forControlEvents:UIControlEventTouchUpInside];
    [backBtn addTarget:self action:@selector(sunnaed:) forControlEvents:UIControlEventTouchUpInside];
    //: [backBtn setImage:[UIImage imageNamed:@"back_arrow_bl"] forState:UIControlStateNormal];
    [backBtn setImage:[UIImage imageNamed:StringFromCommentData(kStr_useData)] forState:UIControlStateNormal];
    //: [navview addSubview:backBtn];
    [navview addSubview:backBtn];

    //: UILabel *labNavtitle = [[UILabel alloc]initWithFrame:CGRectMake(0, [UIDevice vg_statusBarHeight], [[UIScreen mainScreen] bounds].size.width, 44)];
    UILabel *labNavtitle = [[UILabel alloc]initWithFrame:CGRectMake(0, [UIDevice encounter], [[UIScreen mainScreen] bounds].size.width, 44)];
    //: labNavtitle.textColor = [UIColor blackColor];
    labNavtitle.textColor = [UIColor blackColor];
    //: labNavtitle.font = [UIFont boldSystemFontOfSize:16];
    labNavtitle.font = [UIFont boldSystemFontOfSize:16];
    //: labNavtitle.text = [NTESLanguageManager getTextWithKey:@"add_friend_activity_add_friend"];
    labNavtitle.text = [LabelCell tinkleKey:StringFromCommentData(kStr_accountData)];
    //: labNavtitle.textAlignment = NSTextAlignmentCenter;
    labNavtitle.textAlignment = NSTextAlignmentCenter;
    //: [navview addSubview:labNavtitle];
    [navview addSubview:labNavtitle];

    //: UIView *topview = [[UIView alloc]initWithFrame:CGRectMake(15, (44.0f + [UIDevice vg_statusBarHeight])+20, [[UIScreen mainScreen] bounds].size.width-30, 175)];
    UIView *topview = [[UIView alloc]initWithFrame:CGRectMake(15, (44.0f + [UIDevice encounter])+20, [[UIScreen mainScreen] bounds].size.width-30, 175)];
//    topview.backgroundColor = [UIColor whiteColor];
//    topview.backgroundColor = [UIColor colorWithPatternImage:[UIImage imageNamed:@"search_bg"]];
    //: topview.layer.cornerRadius = 12;
    topview.layer.cornerRadius = 12;
    //: [self.view addSubview:topview];
    [self.view addSubview:topview];

    //: UIImageView *headerImage = [[UIImageView alloc] initWithFrame:topview.bounds];
    UIImageView *headerImage = [[UIImageView alloc] initWithFrame:topview.bounds];
    //: headerImage.image = [UIImage imageNamed:@"search_bg"];
    headerImage.image = [UIImage imageNamed:StringFromCommentData(kStr_sendCircleTitle)];
    //: [topview addSubview:headerImage];
    [topview addSubview:headerImage];


    //: UIView *searchView = [[UIView alloc]initWithFrame:CGRectMake(15, 30, [[UIScreen mainScreen] bounds].size.width-60, 44)];
    UIView *searchView = [[UIView alloc]initWithFrame:CGRectMake(15, 30, [[UIScreen mainScreen] bounds].size.width-60, 44)];
    //: searchView.backgroundColor = [UIColor colorWithRed:255/255.0 green:255/255.0 blue:255/255.0 alpha:1];
    searchView.backgroundColor = [UIColor colorWithRed:255/255.0 green:255/255.0 blue:255/255.0 alpha:1];
    //: searchView.layer.cornerRadius = 8;
    searchView.layer.cornerRadius = 8;
    //: searchView.layer.shadowColor = [UIColor colorWithRed:0/255.0 green:0/255.0 blue:0/255.0 alpha:0.0800].CGColor;
    searchView.layer.shadowColor = [UIColor colorWithRed:0/255.0 green:0/255.0 blue:0/255.0 alpha:0.0800].CGColor;
    //: searchView.layer.shadowOffset = CGSizeMake(0,3);
    searchView.layer.shadowOffset = CGSizeMake(0,3);
    //: searchView.layer.shadowOpacity = 1;
    searchView.layer.shadowOpacity = 1;
    //: searchView.layer.shadowRadius = 0;
    searchView.layer.shadowRadius = 0;
    //: [topview addSubview:searchView];
    [topview addSubview:searchView];

    //: [searchView addSubview:self.textField];
    [searchView addSubview:self.textField];
    //: self.textField.frame = CGRectMake(15, 0, [[UIScreen mainScreen] bounds].size.width-60-30, 44);
    self.textField.frame = CGRectMake(15, 0, [[UIScreen mainScreen] bounds].size.width-60-30, 44);


    //: UIButton *btnSearch = [UIButton buttonWithType:UIButtonTypeCustom];
    UIButton *btnSearch = [UIButton buttonWithType:UIButtonTypeCustom];
    //: btnSearch.frame = CGRectMake(15, 100, [[UIScreen mainScreen] bounds].size.width-60, 44);
    btnSearch.frame = CGRectMake(15, 100, [[UIScreen mainScreen] bounds].size.width-60, 44);
    //: [btnSearch setImage:[UIImage imageNamed:@"icon_search_w"] forState:UIControlStateNormal];
    [btnSearch setImage:[UIImage imageNamed:StringFromCommentData(kStr_timeData)] forState:UIControlStateNormal];
    //: [btnSearch setTitle:[NTESLanguageManager getTextWithKey:@"add_friend_activity_search"] forState:UIControlStateNormal];
    [btnSearch setTitle:[LabelCell tinkleKey:StringFromCommentData(kStr_imageShouldValue)] forState:UIControlStateNormal];
    //: [btnSearch addTarget:self action:@selector(doneSearch) forControlEvents:UIControlEventTouchUpInside];
    [btnSearch addTarget:self action:@selector(changeCheck) forControlEvents:UIControlEventTouchUpInside];
    //: [btnSearch layoutButtonWithEdgeInsetsStyle:(MKButtonEdgeInsetsStyleLeft) imageTitleSpace:10];
    [btnSearch holder:(MKButtonEdgeInsetsStyleLeft) number:10];
    //: btnSearch.backgroundColor = [UIColor colorWithHexString:@"#34AECA"];
    btnSearch.backgroundColor = [UIColor box:StringFromCommentData(kStr_currentData)];
    //: btnSearch.layer.cornerRadius = 10;
    btnSearch.layer.cornerRadius = 10;
    //: btnSearch.layer.shadowColor = [UIColor colorWithHexString:@"#3996D6"].CGColor;
    btnSearch.layer.shadowColor = [UIColor box:StringFromCommentData(kStr_keyName)].CGColor;
    //: btnSearch.layer.shadowOffset = CGSizeMake(0,3);
    btnSearch.layer.shadowOffset = CGSizeMake(0,3);
    //: btnSearch.layer.shadowOpacity = 1;
    btnSearch.layer.shadowOpacity = 1;
    //: btnSearch.layer.shadowRadius = 0;
    btnSearch.layer.shadowRadius = 0;
    //: [topview addSubview:btnSearch];
    [topview addSubview:btnSearch];

    //: CGFloat wight = ([[UIScreen mainScreen] bounds].size.width-45)/2;
    CGFloat wight = ([[UIScreen mainScreen] bounds].size.width-45)/2;

    //: UIView *qrView = [[UIView alloc]initWithFrame:CGRectMake(15, topview.bottom+20, wight, 96)];
    UIView *qrView = [[UIView alloc]initWithFrame:CGRectMake(15, topview.bottom+20, wight, 96)];
    //: qrView.backgroundColor = [UIColor colorWithRed:255/255.0 green:255/255.0 blue:255/255.0 alpha:1];
    qrView.backgroundColor = [UIColor colorWithRed:255/255.0 green:255/255.0 blue:255/255.0 alpha:1];
    //: qrView.layer.borderWidth = 1;
    qrView.layer.borderWidth = 1;
    //: qrView.layer.borderColor = [UIColor colorWithRed:236/255.0 green:236/255.0 blue:236/255.0 alpha:1].CGColor;
    qrView.layer.borderColor = [UIColor colorWithRed:236/255.0 green:236/255.0 blue:236/255.0 alpha:1].CGColor;
    //: qrView.layer.cornerRadius = 8;
    qrView.layer.cornerRadius = 8;
    //: qrView.layer.shadowColor = [UIColor colorWithRed:0/255.0 green:0/255.0 blue:0/255.0 alpha:0.0800].CGColor;
    qrView.layer.shadowColor = [UIColor colorWithRed:0/255.0 green:0/255.0 blue:0/255.0 alpha:0.0800].CGColor;
    //: qrView.layer.shadowOffset = CGSizeMake(0,3);
    qrView.layer.shadowOffset = CGSizeMake(0,3);
    //: qrView.layer.shadowOpacity = 1;
    qrView.layer.shadowOpacity = 1;
    //: qrView.layer.shadowRadius = 0;
    qrView.layer.shadowRadius = 0;
    //: [self.view addSubview:qrView];
    [self.view addSubview:qrView];
    //: qrView.userInteractionEnabled = YES;
    qrView.userInteractionEnabled = YES;
    //: UITapGestureRecognizer *singleTap1 = [[UITapGestureRecognizer alloc]initWithTarget:self action:@selector(QRCodeButtnClick)];
    UITapGestureRecognizer *singleTap1 = [[UITapGestureRecognizer alloc]initWithTarget:self action:@selector(recordingTitle)];
    //: [qrView addGestureRecognizer:singleTap1];
    [qrView addGestureRecognizer:singleTap1];

    //: UIButton *btnQr = [UIButton buttonWithType:UIButtonTypeCustom];
    UIButton *btnQr = [UIButton buttonWithType:UIButtonTypeCustom];
    //: btnQr.layer.cornerRadius = 22;
    btnQr.layer.cornerRadius = 22;
    //: [btnQr addTarget:self action:@selector(QRCodeButtnClick) forControlEvents:UIControlEventTouchUpInside];
    [btnQr addTarget:self action:@selector(recordingTitle) forControlEvents:UIControlEventTouchUpInside];
    //: btnQr.frame = CGRectMake((wight-44)/2, 12, 44, 44);
    btnQr.frame = CGRectMake((wight-44)/2, 12, 44, 44);
    //: [btnQr setImage:[UIImage imageNamed:@"my_qr"] forState:UIControlStateNormal];
    [btnQr setImage:[UIImage imageNamed:StringFromCommentData(kStr_viewContent)] forState:UIControlStateNormal];
    //: [qrView addSubview:btnQr];
    [qrView addSubview:btnQr];

    //: UILabel *labQr = [[UILabel alloc]initWithFrame:CGRectMake(0, btnQr.bottom+10, wight, 20)];
    UILabel *labQr = [[UILabel alloc]initWithFrame:CGRectMake(0, btnQr.bottom+10, wight, 20)];
    //: labQr.text = [NTESLanguageManager getTextWithKey:@"qrcode_activity_title"];
    labQr.text = [LabelCell tinkleKey:StringFromCommentData(kStr_sendTitleData)];
    //: labQr.font = [UIFont systemFontOfSize:14];
    labQr.font = [UIFont systemFontOfSize:14];
    //: labQr.textColor = [UIColor blackColor];
    labQr.textColor = [UIColor blackColor];
    //: labQr.textAlignment = NSTextAlignmentCenter;
    labQr.textAlignment = NSTextAlignmentCenter;
    //: [qrView addSubview:labQr];
    [qrView addSubview:labQr];

    //: UIView *scanView = [[UIView alloc]initWithFrame:CGRectMake(30+wight, topview.bottom+20, wight, 96)];
    UIView *scanView = [[UIView alloc]initWithFrame:CGRectMake(30+wight, topview.bottom+20, wight, 96)];
    //: scanView.backgroundColor = [UIColor colorWithRed:255/255.0 green:255/255.0 blue:255/255.0 alpha:1];
    scanView.backgroundColor = [UIColor colorWithRed:255/255.0 green:255/255.0 blue:255/255.0 alpha:1];
    //: scanView.layer.borderWidth = 1;
    scanView.layer.borderWidth = 1;
    //: scanView.layer.borderColor = [UIColor colorWithRed:236/255.0 green:236/255.0 blue:236/255.0 alpha:1].CGColor;
    scanView.layer.borderColor = [UIColor colorWithRed:236/255.0 green:236/255.0 blue:236/255.0 alpha:1].CGColor;
    //: scanView.layer.cornerRadius = 8;
    scanView.layer.cornerRadius = 8;
    //: scanView.layer.shadowColor = [UIColor colorWithRed:0/255.0 green:0/255.0 blue:0/255.0 alpha:0.0800].CGColor;
    scanView.layer.shadowColor = [UIColor colorWithRed:0/255.0 green:0/255.0 blue:0/255.0 alpha:0.0800].CGColor;
    //: scanView.layer.shadowOffset = CGSizeMake(0,3);
    scanView.layer.shadowOffset = CGSizeMake(0,3);
    //: scanView.layer.shadowOpacity = 1;
    scanView.layer.shadowOpacity = 1;
    //: scanView.layer.shadowRadius = 0;
    scanView.layer.shadowRadius = 0;
    //: [self.view addSubview:scanView];
    [self.view addSubview:scanView];
    //: scanView.userInteractionEnabled = YES;
    scanView.userInteractionEnabled = YES;
    //: UITapGestureRecognizer *singleTap2 = [[UITapGestureRecognizer alloc]initWithTarget:self action:@selector(scan)];
    UITapGestureRecognizer *singleTap2 = [[UITapGestureRecognizer alloc]initWithTarget:self action:@selector(viewBy)];
    //: [scanView addGestureRecognizer:singleTap2];
    [scanView addGestureRecognizer:singleTap2];

    //: UIButton *btnScan = [UIButton buttonWithType:UIButtonTypeCustom];
    UIButton *btnScan = [UIButton buttonWithType:UIButtonTypeCustom];
    //: btnScan.layer.cornerRadius = 22;
    btnScan.layer.cornerRadius = 22;
    //: [btnScan addTarget:self action:@selector(scan) forControlEvents:UIControlEventTouchUpInside];
    [btnScan addTarget:self action:@selector(viewBy) forControlEvents:UIControlEventTouchUpInside];
    //: btnScan.frame = CGRectMake((wight-44)/2, 12, 44, 44);
    btnScan.frame = CGRectMake((wight-44)/2, 12, 44, 44);
    //: [btnScan setImage:[UIImage imageNamed:@"qr_scan"] forState:UIControlStateNormal];
    [btnScan setImage:[UIImage imageNamed:StringFromCommentData(kStr_atColorAccountData)] forState:UIControlStateNormal];
    //: [scanView addSubview:btnScan];
    [scanView addSubview:btnScan];

    //: UILabel *labScan = [[UILabel alloc]initWithFrame:CGRectMake(0, btnScan.bottom+10, wight, 20)];
    UILabel *labScan = [[UILabel alloc]initWithFrame:CGRectMake(0, btnScan.bottom+10, wight, 20)];
    //: labScan.text = [NTESLanguageManager getTextWithKey:@"ScanQRcode"];
    labScan.text = [LabelCell tinkleKey:StringFromCommentData(kStr_imageTimeTitle)];
    //: labScan.font = [UIFont systemFontOfSize:14];
    labScan.font = [UIFont systemFontOfSize:14];
    //: labScan.textColor = [UIColor blackColor];
    labScan.textColor = [UIColor blackColor];
    //: labScan.textAlignment = NSTextAlignmentCenter;
    labScan.textAlignment = NSTextAlignmentCenter;
    //: [scanView addSubview:labScan];
    [scanView addSubview:labScan];

    //: UILabel *labTip = [[UILabel alloc]initWithFrame:CGRectMake(0, qrView.bottom+24, [[UIScreen mainScreen] bounds].size.width, 20)];
    UILabel *labTip = [[UILabel alloc]initWithFrame:CGRectMake(0, qrView.bottom+24, [[UIScreen mainScreen] bounds].size.width, 20)];
    //: labTip.text = [NTESLanguageManager getTextWithKey:@"friendrequestsin_contacts"];
    labTip.text = [LabelCell tinkleKey:StringFromCommentData(kStr_coverData)];
    //: labTip.font = [UIFont boldSystemFontOfSize:12];
    labTip.font = [UIFont boldSystemFontOfSize:12];
    //: labTip.textColor = [UIColor colorWithHexString:@"#999999"];
    labTip.textColor = [UIColor box:StringFromCommentData(kStr_scaleText)];
    //: labTip.textAlignment = NSTextAlignmentCenter;
    labTip.textAlignment = NSTextAlignmentCenter;
    //: [self.view addSubview:labTip];
    [self.view addSubview:labTip];

}

//: - (void)gotoBack:(id)sender {
- (void)sunnaed:(id)sender {
    //: [self.navigationController popViewControllerAnimated:NO];
    [self.navigationController popViewControllerAnimated:NO];
}

//: - (void)QRCodeButtnClick
- (void)recordingTitle
{
    //: [self.view addSubview:self.MyQRcodeView];
    [self.view addSubview:self.MyQRcodeView];
    //: [self.MyQRcodeView animationShow];
    [self.MyQRcodeView tillKeyShow];
}

//: -(void)scan{
-(void)viewBy{
    //: ZZZContactScanViewController *vc = [[ZZZContactScanViewController alloc] init];
    VersionViewController *vc = [[VersionViewController alloc] init];
    //: [self.navigationController pushViewController:vc animated:YES];
    [self.navigationController pushViewController:vc animated:YES];
}

//: - (void)doneSearch{
- (void)changeCheck{
    //: [self goSearch:_textField];
    [self model:_textField];
}

//: #pragma mark - UITextFieldDelegate
#pragma mark - UITextFieldDelegate

//: - (BOOL)textFieldShouldReturn:(UITextField *)textField{
- (BOOL)textFieldShouldReturn:(UITextField *)textField{
    //: [self goSearch:textField];
    [self model:textField];
    //: return YES;
    return YES;
}

//: - (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string{
- (BOOL)textField:(UITextField *)textField shouldChangeCharactersInRange:(NSRange)range replacementString:(NSString *)string{
    //: return YES;
    return YES;
}

//: -(void)goSearch:(UITextField *)textField{
-(void)model:(UITextField *)textField{
    //: [self.view endEditing:YES];
    [self.view endEditing:YES];
    //: NSString *userId = [textField.text stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceAndNewlineCharacterSet]];
    NSString *userId = [textField.text stringByTrimmingCharactersInSet:[NSCharacterSet whitespaceAndNewlineCharacterSet]];
    //: if (userId.length) {
    if (userId.length) {
        //: userId = [userId lowercaseString];
        userId = [userId lowercaseString];
        //: [self addFriend:userId];
        [self amigoBy:userId];
    }
}

//: - (UITextField *)textField{
- (UITextField *)textField{
    //: if(!_textField){
    if(!_textField){
        //: _textField = [[UITextField alloc]init];
        _textField = [[UITextField alloc]init];
        //: _textField.placeholder = [NTESLanguageManager getTextWithKey:@"add_friend_activity_input_account"];
        _textField.placeholder = [LabelCell tinkleKey:StringFromCommentData(kStr_tingImageData)];
        //: _textField.textColor = [UIColor colorWithHexString:@"#333333"];
        _textField.textColor = [UIColor box:StringFromCommentData(kStr_contentTitle)];
        //: _textField.font = [UIFont systemFontOfSize:14];
        _textField.font = [UIFont systemFontOfSize:14];
        //: _textField.delegate = self;
        _textField.delegate = self;
        //: _textField.returnKeyType = UIReturnKeyDone;
        _textField.returnKeyType = UIReturnKeyDone;
    }
    //: return _textField;
    return _textField;
}

//: #pragma mark - Private
#pragma mark - Private
//: - (void)addFriend:(NSString *)userId
- (void)amigoBy:(NSString *)userId
{
    //: __weak typeof(self) wself = self;
    __weak typeof(self) wself = self;
    //: NSMutableDictionary *dict = @{}.mutableCopy;
    NSMutableDictionary *dict = @{}.mutableCopy;
    //: [dict setObject:userId forKey:@"account"];
    [dict setObject:userId forKey:StringFromCommentData(kStr_viewData)];
    //: [ZCHttpManager getWithUrl:[NSString stringWithFormat:@"/user/search"] params:dict isShow:YES success:^(id responseObject) {
    [ViewManager viewFailed:[NSString stringWithFormat:StringFromCommentData(kStr_nameTitle)] disable:dict params:YES status:^(id responseObject) {
        //: NSDictionary *resultDict = (NSDictionary *)responseObject;
        NSDictionary *resultDict = (NSDictionary *)responseObject;
        //: NSString *code = [resultDict newStringValueForKey:@"code"];
        NSString *code = [resultDict length:StringFromCommentData(kStr_withSuccessText)];
        //: NSString *msg = [resultDict newStringValueForKey:@"msg"];
        NSString *msg = [resultDict length:StringFromCommentData(kStr_accountName)];

        //: if (code.integerValue <= 0) {
        if (code.integerValue <= 0) {
            //: NSDictionary *data = [resultDict valueObjectForKey:@"data"];
            NSDictionary *data = [resultDict userTo:StringFromCommentData(kStr_sizeValue)];
            //: NSString *uid = [data newStringValueForKey:@"uid"];
            NSString *uid = [data length:StringFromCommentData(kStr_markScaleAccountData)];
            //: [wself sendAddrequest:uid];
            [wself addrequest:uid];

        //: }else {
        }else {

            //: [SVProgressHUD showMessage:msg];
            [SVProgressHUD text:msg];

        }
    //: } failed:^(id responseObject, NSError *error) {
    } allow:^(id responseObject, NSError *error) {

    //: }];
    }];

}

//: -(void)sendAddrequest:(NSString *)uid{
-(void)addrequest:(NSString *)uid{
    //: __weak typeof(self) wself = self;
    __weak typeof(self) wself = self;
    //: [[NIMSDK sharedSDK].userManager fetchUserInfos:@[uid] completion:^(NSArray *users, NSError *error) {
    [[NIMSDK sharedSDK].userManager fetchUserInfos:@[uid] completion:^(NSArray *users, NSError *error) {
        //: [SVProgressHUD dismiss];
        [SVProgressHUD dismiss];
        //: if (users.count) {
        if (users.count) {
            //: [self checkIsAdmin:uid];
            [self tipShow:uid];
        //: }else{
        }else{
            //: if (wself) {
            if (wself) {
                //: [wself.view makeToast:[NTESLanguageManager getTextWithKey:@"group_info_activity_number_no"] duration:2.0 position:CSToastPositionCenter];
                [wself.view makeToast:[LabelCell tinkleKey:StringFromCommentData(kStr_useName)] duration:2.0 position:CSToastPositionCenter];
            }
        }
    //: }];
    }];
}

//: -(void)checkIsAdmin:(NSString *)userId{
-(void)tipShow:(NSString *)userId{

    //: __weak typeof(self) wself = self;
    __weak typeof(self) wself = self;
    //: NSMutableDictionary *dict = @{}.mutableCopy;
    NSMutableDictionary *dict = @{}.mutableCopy;
    //: dict[@"fuid"] = [[NIMSDK sharedSDK].loginManager currentAccount];
    dict[StringFromCommentData(kStr_itemData)] = [[NIMSDK sharedSDK].loginManager currentAccount];
    //: dict[@"tuid"] = userId;
    dict[StringFromCommentData(kStr_tingName)] = userId;

    //: [ZCHttpManager getWithUrl:[NSString stringWithFormat:@"/user/checkAddFriendEx"] params:dict isShow:NO success:^(id responseObject) {
    [ViewManager viewFailed:[NSString stringWithFormat:StringFromCommentData(kStr_houseEventText)] disable:dict params:NO status:^(id responseObject) {
        //: NSDictionary *resultDict = (NSDictionary *)responseObject;
        NSDictionary *resultDict = (NSDictionary *)responseObject;
        //: NSString *code = [resultDict newStringValueForKey:@"code"];
        NSString *code = [resultDict length:StringFromCommentData(kStr_withSuccessText)];
        //: if (code.integerValue == 0) {
        if (code.integerValue == 0) {
            //è·³è½¬è¯¦æ
            //: ZMONFriendCardViewController *vc = [[ZMONFriendCardViewController alloc] initWithUserId:userId];
            ChangeViewController *vc = [[ChangeViewController alloc] initWithShowId:userId];
            //: [wself.navigationController pushViewController:vc animated:YES];
            [wself.navigationController pushViewController:vc animated:YES];
        //: }else{
        }else{
            //: [wself.view makeToast:[NTESLanguageManager getTextWithKey:@"please_contact_your_administrator"] duration:2.0 position:CSToastPositionCenter];
            [wself.view makeToast:[LabelCell tinkleKey:StringFromCommentData(kStr_operationData)] duration:2.0 position:CSToastPositionCenter];
        }
    //: } failed:^(id responseObject, NSError *error) {
    } allow:^(id responseObject, NSError *error) {
        //: [wself.view makeToast:[NTESLanguageManager getTextWithKey:@"please_contact_your_administrator"] duration:2.0 position:CSToastPositionCenter];
        [wself.view makeToast:[LabelCell tinkleKey:StringFromCommentData(kStr_operationData)] duration:2.0 position:CSToastPositionCenter];
    //: }];
    }];
}

//: - (ZMONMyQRcodeView *)MyQRcodeView
- (ChangeView *)MyQRcodeView
{
    //: if(!_MyQRcodeView){
    if(!_MyQRcodeView){
        //: _MyQRcodeView = [[ZMONMyQRcodeView alloc]initWithFrame:CGRectMake(0, 0, [[UIScreen mainScreen] bounds].size.width, [[UIScreen mainScreen] bounds].size.height)];
        _MyQRcodeView = [[ChangeView alloc]initWithFrame:CGRectMake(0, 0, [[UIScreen mainScreen] bounds].size.width, [[UIScreen mainScreen] bounds].size.height)];
    }
    //: return _MyQRcodeView;
    return _MyQRcodeView;
}

//: @end
@end

Byte * CommentDataToCache(Byte *data) {
    int time = data[0];
    int text = data[1];
    Byte by = data[2];
    int timeBar = data[3];
    if (!time) return data + timeBar;
    for (int i = timeBar; i < timeBar + text; i++) {
        int value = data[i] - by;
        if (value < 0) {
            value += 256;
        }
        data[i] = value;
    }
    data[0] = 0;
    data[timeBar + text] = 0;
    return data + timeBar;
}

NSString *StringFromCommentData(Byte *data) {
    return [NSString stringWithUTF8String:(char *)CommentDataToCache(data)];
}
